(this["webpackJsonpdev-tools"]=this["webpackJsonpdev-tools"]||[]).push([[5],{1570:function(t,n,e){"use strict";e.r(n);var r=e(1665);e.d(n,"TerraAssets",(function(){return r.b})),e.d(n,"TerraClass",(function(){return r.c})),e.d(n,"Terra",(function(){return r.a}))},1646:function(t,n,e){"use strict";var r;e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return s})),function(t){t.Tequila="tequila-0004",t.Columbus="columbus-4"}(r||(r={}));var a="Terra is not supported by the current RenVM network.",s=function(t){return{transaction:t,amount:t.amount}}},1665:function(t,n,e){"use strict";(function(t){e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return w})),e.d(n,"a",(function(){return b}));var r,a=e(0),s=e.n(a),o=e(5),i=e(1638),c=e.n(i),u=e(23),d=e(10),h=e(1666),f=e(479),l=e.n(f),p=e(1646),v=e(2027),m=function(t,n,e,r){return new(e||(e=Promise))((function(a,s){function o(t){try{c(r.next(t))}catch(n){s(n)}}function i(t){try{c(r.throw(t))}catch(n){s(n)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,i)}c((r=r.apply(t,n||[])).next())}))};!function(t){t.LUNA="LUNA"}(r||(r={}));var w=function n(e){var a=this;Object(o.a)(this,n),this.chain=n.chain,this.name=n.chain,this.assets=[r.LUNA],this.utils=Object(d.utilsWithChainNetwork)(n.utils,(function(){return a.chainNetwork})),this.initialize=function(t){return a.renNetwork=Object(u.getRenNetworkDetails)(t),a.chainNetwork=a.chainNetwork||a.renNetwork.isTestnet?p.a.Tequila:p.a.Columbus,a},this.assetIsNative=function(t){return a.assets.indexOf(t)>=0},this.assetIsSupported=this.assetIsNative,this.assertAssetIsSupported=function(t){if(!a.assetIsNative(t))throw new Error("Unsupported asset ".concat(t,"."))},this.assetDecimals=function(t){switch(t){case r.LUNA:return 6}throw new Error("Unsupported asset ".concat(String(t),"."))},this.getDeposits=function(t,n,e,r){return m(a,void 0,void 0,s.a.mark((function e(){var a,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chainNetwork){e.next=2;break}throw new Error("".concat(this.name," object not initialized."));case 2:return this.assertAssetIsSupported(t),e.next=5,v.a.fetchDeposits(n.address,this.chainNetwork);case 5:return a=e.sent,e.next=8,Promise.all(a.map((function(t){return m(o,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(Object(p.c)(t)));case 1:case"end":return n.stop()}}),n)})))})));case 8:case"end":return e.stop()}}),e,this)})))},this.transactionConfidence=function(t){return m(a,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.chainNetwork){n.next=2;break}throw new Error("".concat(this.name," object not initialized."));case 2:return n.next=4,v.a.fetchDeposit(t.hash,t.messageIndex,this.chainNetwork);case 4:return t=n.sent,n.abrupt("return",{current:t.confirmations,target:(this.chainNetwork,p.a.Columbus,0)});case 6:case"end":return n.stop()}}),n,this)})))},this.getGatewayAddress=function(n,e,r){if(!a.renNetwork)throw new Error("".concat(a.name," object not initialized."));a.assertAssetIsSupported(n);var s=new l.a.ec("secp256k1"),o=s.keyFromPublic(e),i=s.keyFromPrivate(r),c=s.keyFromPublic(o.getPublic().add(i.getPublic())),u=t.from(c.getPublic().encodeCompressed());return{asset:n,address:new h.Key(u).accAddress}},this.addressToBytes=function(n){return t.from(c.a.fromWords(c.a.decode("string"===typeof n?n:n.address).words))},this.bytesToAddress=function(t){var n=c.a.toWords(t);return c.a.encode("terra",n)},this.addressStringToBytes=this.addressToBytes,this.addressToString=function(t){return"string"===typeof t?t:t.address},this.transactionID=function(t){return t.hash},this.transactionIDFromRPCFormat=function(t,n){return"string"===typeof t?t:t.toString("hex")},this.transactionFromRPCFormat=function(t,n){return m(a,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chainNetwork){e.next=2;break}throw new Error("".concat(this.name," object not initialized."));case 2:return e.abrupt("return",v.a.fetchDeposit("string"===typeof t?t:t.toString("hex"),parseInt(n,10),this.chainNetwork));case 3:case"end":return e.stop()}}),e,this)})))},this.transactionFromID=this.transactionFromRPCFormat,this.depositV1HashString=function(t){throw new Error(p.b)},this.transactionRPCFormat=function(n,e){if(!e)throw new Error(p.b);return{txid:t.from(n.hash,"hex"),txindex:"0"}},this.transactionRPCTxidFromID=function(n){return t.from(n,"hex")},this.Address=function(t){return Object(d.assertType)("string",{address:t}),a.getBurnPayload=function(n){return n?a.addressToBytes(t).toString("hex"):t},a},this.burnPayload=function(t){return a.getBurnPayload?a.getBurnPayload(t&&t.bytes):void 0},this.chainNetwork=e};w.chain="Terra",w.utils={resolveChainNetwork:function(t){return t===p.a.Columbus||t===p.a.Tequila?t:Object(u.getRenNetworkDetails)(t).isTestnet?p.a.Tequila:p.a.Columbus},addressIsValid:function(t){arguments.length>1&&void 0!==arguments[1]||p.a.Columbus;var n="string"===typeof t?t:t.address;return Object(d.assertType)("string",{address:n}),h.AccAddress.validate(n)},transactionIsValid:function(t){arguments.length>1&&void 0!==arguments[1]||p.a.Columbus;return Object(d.isHex)("string"===typeof t?t:t.hash,{length:32})},addressExplorerLink:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a.Columbus;return"https://finder.terra.money/".concat(b.utils.resolveChainNetwork(n),"/account/").concat("string"===typeof t?t:t.address)},transactionExplorerLink:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a.Columbus;return"https://finder.terra.money/".concat(b.utils.resolveChainNetwork(n),"/tx/").concat("string"===typeof t?t:t.hash)}};var b=Object(d.Callable)(w)}).call(this,e(4).Buffer)},1851:function(t,n){},1853:function(t,n){},2027:function(t,n,e){"use strict";e.d(n,"a",(function(){return b}));var r=e(0),a=e.n(r),s=e(30),o=e(10),i=e(294),c=e.n(i),u=e(1646),d=e(1666),h=function(t,n,e,r){return new(e||(e=Promise))((function(a,s){function o(t){try{c(r.next(t))}catch(n){s(n)}}function i(t){try{c(r.throw(t))}catch(n){s(n)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,i)}c((r=r.apply(t,n||[])).next())}))},f={},l=function(t){return h(void 0,void 0,void 0,a.a.mark((function n(){var e,r,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next=n.t0===u.a.Columbus?3:n.t0===u.a.Tequila?5:7;break;case 3:return e="lcd",n.abrupt("break",8);case 5:return e="tequila-lcd",n.abrupt("break",8);case 7:throw new Error("Terra network ".concat(String(t)," not supported."));case 8:return r=f[t]||new d.LCDClient({URL:"https://".concat(String(e),".terra.dev"),chainID:t}),f[t]=r,n.next=12,r.tendermint.blockInfo();case 12:return s=n.sent,n.abrupt("return",parseInt(s.block.header.height,10));case 14:case"end":return n.stop()}}),n)})))},p=function(t,n,e,r){return new(e||(e=Promise))((function(a,s){function o(t){try{c(r.next(t))}catch(n){s(n)}}function i(t){try{c(r.throw(t))}catch(n){s(n)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,i)}c((r=r.apply(t,n||[])).next())}))},v=function(t){var n;switch(t){case u.a.Columbus:n="fcd";break;case u.a.Tequila:n="tequila-fcd";break;default:throw new Error("Terra network ".concat(String(t)," not supported."))}return"https://".concat(String(n),".terra.dev/v1")},m=function(t){return function(n){var e=[];try{for(var r=n.tx.value.msg,a=0;a<r.length;a++){var o=r[a];if("bank/MsgSend"===o.type){var i,c=Object(s.a)(o.value.amount);try{for(c.s();!(i=c.n()).done;){var u=i.value;e.push(Object.assign(Object.assign(Object.assign({},n),{messageIndex:a,to_address:o.value.to_address,from_address:o.value.from_address}),u))}}catch(d){c.e(d)}finally{c.f()}}}}catch(h){return[]}return e.map((function(n){return{hash:n.txhash,messageIndex:n.messageIndex,from:n.from_address,to:n.to_address,denomination:n.denom,amount:n.amount,memo:n.tx.value.memo,confirmations:n.height?t-parseInt(n.height,10):n.height}}))}},w=function(t,n){return t.concat(n)},b={fetchDeposits:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return p(void 0,void 0,void 0,a.a.mark((function r(){var s,i,u,d,h;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s="".concat(v(n),"/txs?account=").concat(t,"&chainId=").concat(n),r.next=3,c.a.get(s,{timeout:60*o.SECONDS});case 3:if(i=r.sent.data,u=i.txs,!((d=e?u.filter((function(t){return t.tx&&t.tx.value&&t.tx.value.memo===e})):u).length>0)){r.next=12;break}return r.next=9,l(n);case 9:r.t0=r.sent,r.next=13;break;case 12:r.t0=0;case 13:return h=r.t0,r.abrupt("return",d.map(m(h)).reduce(w,[]).filter((function(n){return n.to===t})));case 15:case"end":return r.stop()}}),r)})))},fetchDeposit:function(t,n,e){return p(void 0,void 0,void 0,a.a.mark((function r(){var s,i,u;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s="".concat(v(e),"/tx/").concat(t),r.next=3,c.a.get(s,{timeout:60*o.SECONDS});case 3:if(null!==(i=r.sent.data)){r.next=6;break}throw new Error("Unable to find Terra transaction ".concat(t,"."));case 6:return r.next=8,l(e);case 8:return u=r.sent,r.abrupt("return",m(u)(i)[n]);case 10:case"end":return r.stop()}}),r)})))}}}}]);
//# sourceMappingURL=5.0a2e66dd.chunk.js.map